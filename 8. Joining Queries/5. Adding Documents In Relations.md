# Adding Documents In Relations

Creating parent index first:
```
PUT /department
{
  "mappings": {
    "properties": {
      "join_fields": {
        "type": "join",
        "relations" :{
          "department" : "employee"
        }
      }
    }
  }
}
```
Adding documents to parent index first:
```
PUT /department/_doc/1
{
  "name" : "Development",
  "join_fields" : "department"
}

PUT /department/_doc/2
{
  "name" : "Marketing",
  "join_fields" : "department"
}
```
This could be done this way as well:
```
PUT /department/_doc/1
{
  "name" : "Marketing",
  "join_fields" : {
    "name" : "department"
  }
}
```
Now we have some documents in our index. Let's add some child objects.
This can be done by using `join_fields` which we specified in our parent index. In this object we need to specify the name of the key value mapping value (not index) which tells the ES that the document is an employee:
```
PUT /department/_doc/3
{
  "name": "Bo Andersen",
  "age": 28,
  "gender": "M",
  "join_fields" : {
    "name": "employee",
    "parent": 1
  }
}
```
This gives:
```
{
  "error": {
    "root_cause": [
      {
        "type": "mapper_parsing_exception",
        "reason": "failed to parse"
      }
    ],
    "type": "mapper_parsing_exception",
    "reason": "failed to parse",
    "caused_by": {
      "type": "illegal_argument_exception",
      "reason": "[routing] is missing for join field [join_fields]"
    }
  },
  "status": 400
}
```
So,
